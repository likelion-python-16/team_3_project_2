# Team3 Cafe Analysis 프로젝트 요구사항 정의서

## 프로젝트 개요

**프로젝트명**: Team3 Cafe Analysis Platform  
**버전**: 1.0.0  
**작성일**: 2025년 9월 10일  
**목적**: 카페 창업 및 투자 분석을 위한 종합 데이터 플랫폼 개발

## 핵심 기능

| 기능 분류 | 기능명 | 설명 | 우선순위 | 구현 상태 |
|-----------|--------|------|----------|-----------|
| **사용자 관리** | 회원가입/로그인 | 사용자 계정 생성 및 인증 | 높음 | ✅ 완료 |
| | 사용자 프로필 관리 | 개인정보 수정, 구독 관리 | 중간 | ✅ 완료 |
| | 권한 관리 | 무료/프리미엄 사용자 구분 | 높음 | ✅ 완료 |
| **카페 데이터** | 카페 목록 조회 | 전국 카페 데이터 조회 (41,199개) | 높음 | ✅ 완료 |
| | 카페 상세 정보 | 개별 카페 세부 정보 | 높음 | ✅ 완료 |
| | 지도 마커 데이터 | 지도용 카페 위치 정보 | 중간 | ✅ 완료 |
| | 필터링 검색 | 조건별 카페 데이터 필터링 | 높음 | ✅ 완료 |
| **비즈니스 분석** | 사업자 상세 분석 | 창업 투자 분석 정보 | 높음 | ✅ 완료 |
| | 성장률 분석 | 지역별 카페 성장률 분석 | 높음 | ✅ 완료 |
| | 위험 지역 분석 | 창업 위험도가 높은 지역 분석 | 중간 | ✅ 완료 |
| | 상권 분석 | 상권별 카페 밀도 및 경쟁도 | 높음 | ✅ 완료 |
| **프랜차이즈 분석** | 프랜차이즈 매출 분석 | 브랜드별 매출 현황 분석 | 높음 | ✅ 완료 |
| | 프랜차이즈 성장률 | 브랜드별 성장률 트렌드 | 중간 | ✅ 완료 |
| | 카페 수 분석 | 프랜차이즈별 매장 수 현황 | 중간 | ✅ 완료 |
| | 브랜드 타입 분석 | 프랜차이즈 유형별 분석 | 낮음 | ✅ 완료 |
| **트렌드 분석** | 신규 사업자 분석 | 신규 창업 현황 및 트렌드 | 높음 | ✅ 완료 |
| | 매출 지수 분석 | 시기별 매출 지수 변화 | 중간 | ✅ 완료 |
| | 생존율 분석 | 카페 생존율 통계 | 높음 | ✅ 완료 |
| | 3년 성장률 트렌드 | 장기 성장률 분석 | 중간 | ✅ 완료 |
| **지역별 통계** | 지역별 통계 | 시/구별 카페 현황 통계 | 높음 | ✅ 완료 |
| | 지역별 매출 비교 | 지역간 매출 현황 비교 | 중간 | ✅ 완료 |
| **결제 시스템** | 토스 페이먼츠 연동 | 프리미엄 구독 결제 | 높음 | ✅ 완료 |
| | 구독 관리 | 결제 내역 및 구독 상태 관리 | 중간 | ✅ 완료 |
| **API 문서화** | OpenAPI 스키마 | API 명세서 자동 생성 | 중간 | ✅ 완료 |
| | Swagger UI | 대화형 API 문서 | 중간 | ✅ 완료 |
| | ReDoc | 정적 API 문서 | 낮음 | ✅ 완료 |

## 기능별 상세 요구사항

### 1. 사용자 관리 시스템

#### 1.1 회원가입/로그인
- **기능**: Django 기반 사용자 인증
- **요구사항**:
  - 이메일 기반 회원가입
  - 세션 기반 로그인/로그아웃
  - 비밀번호 암호화 저장
- **API 엔드포인트**:
  - `POST /api/accounts/users/register/`
  - `POST /api/accounts/users/login/`
  - `POST /api/accounts/users/logout/`

#### 1.2 사용자 프로필
- **기능**: 개인정보 관리 및 구독 상태 확인
- **요구사항**:
  - 프로필 정보 수정
  - 구독 상태 조회
  - 사용량 추적
- **API 엔드포인트**:
  - `GET /api/accounts/users/me/`
  - `PUT /api/accounts/users/{id}/`
 
### 2. 카페 데이터 관리

#### 2.1 데이터 규모
- **카페 정보**: 41,199개 카페 데이터
- **매출 데이터**: 10,361개 매출 정보
- **지역 범위**: 전국 시/구/동 단위

#### 2.2 데이터 구조
- **카페 기본 정보**: 이름, 주소, 위도/경도, 프랜차이즈 여부
- **매출 데이터**: 월별 매출, 연도별 추이
- **위치 정보**: GPS 좌표, 행정구역 정보

### 3. 분석 엔진

#### 3.1 비즈니스 분석
- **창업 위험도 분석**: 지역별 포화도, 경쟁 강도
- **성장률 분석**: 시계열 데이터 기반 성장률 계산
- **상권 분석**: 주변 상권 밀도 및 유동인구 고려

#### 3.2 프랜차이즈 분석
- **브랜드별 매출**: 주요 프랜차이즈 매출 비교
- **성장률 트렌드**: 브랜드별 성장률 변화
- **시장 점유율**: 지역별 브랜드 점유율

## 비기능적 요구사항

### 1. 성능 요구사항

| 항목 | 요구사항 | 현재 상태 |
|------|----------|-----------|
| **응답 시간** | API 응답 시간 2초 이내 | ✅ 충족 |
| **동시 사용자** | 100명 동시 접속 지원 | ✅ 충족 |
| **데이터 처리** | 4만+ 카페 데이터 실시간 조회 | ✅ 충족 |
| **가용성** | 99% 이상 서비스 가용성 | ✅ 충족 |

### 2. 보안 요구사항

| 항목 | 요구사항 | 구현 방법 |
|------|----------|-----------|
| **인증/인가** | 세션 기반 사용자 인증 | Django Session Authentication |
| **데이터 암호화** | 민감 정보 암호화 저장 | Django 기본 암호화 |
| **API 보안** | CSRF 보호, CORS 설정 | Django Security Middleware |
| **결제 보안** | PCI DSS 준수 | 토스 페이먼츠 외부 연동 |

### 3. 확장성 요구사항

| 항목 | 요구사항 | 구현 상태 |
|------|----------|-----------|
| **수평 확장** | 로드 밸런싱 지원 | ✅ Fly.io 2대 머신 |
| **데이터베이스** | 대용량 데이터 처리 | ✅ SQLite (로컬), PostgreSQL 지원 |
| **캐싱** | 정적 파일 캐싱 | ✅ Static Files 서빙 |
| **모니터링** | 성능 모니터링 | ✅ Prometheus 메트릭 |

## 기술 스택

### 백엔드
- **프레임워크**: Django 5.2.5
- **API**: Django REST Framework
- **데이터베이스**: SQLite (개발), PostgreSQL (프로덕션 지원)
- **인증**: Django Session Authentication

### 프론트엔드
- **템플릿**: Django Templates
- **스타일링**: CSS
- **JavaScript**: Vanilla JS

### 인프라
- **배포**: Fly.io
- **리전**: San Jose (sjc)
- **컨테이너**: Docker
- **모니터링**: Prometheus

### 외부 서비스
- **결제**: 토스 페이먼츠
- **지도**: 카카오맵 (추정)

## API 문서화

### 문서 타입
- **OpenAPI 3.0.3**: 표준 API 스키마
- **Swagger UI**: 대화형 API 문서
- **ReDoc**: 정적 API 문서
- **가이드 문서**: 한글 사용법 가이드

### 접근 URL
- **Swagger UI**: https://team3-project-2-app.fly.dev/docs/
- **ReDoc**: https://team3-project-2-app.fly.dev/redoc/
- **Schema**: https://team3-project-2-app.fly.dev/api/schema/

## 배포 및 운영

### 배포 환경
- **플랫폼**: Fly.io
- **리전**: San Jose (sjc)
- **인스턴스**: 2대 (로드 밸런싱)
- **도메인**: https://team3-project-2-app.fly.dev

### CI/CD
- **자동 배포**: GitHub Actions
- **테스트**: Django Test Suite
- **빌드**: Docker 컨테이너

### 모니터링
- **메트릭**: Prometheus
- **헬스 체크**: `/health/` 엔드포인트
- **로그**: Gunicorn Access/Error 로그

## 프로젝트 일정

| 단계 | 기간 | 상태 |
|------|------|------|
| **요구사항 분석** | 1주 | ✅ 완료 |
| **시스템 설계** | 1주 | ✅ 완료 |
| **백엔드 개발** | 3주 | ✅ 완료 |
| **프론트엔드 개발** | 2주 | ✅ 완료 |
| **API 문서화** | 1주 | ✅ 완료 |
| **배포 및 테스트** | 1주 | ✅ 완료 |
| **운영 및 유지보수** | 지속적 | 🔄 진행중 |

## 위험 요소 및 대응방안

### 기술적 위험
- **대용량 데이터 처리**: 인덱싱 최적화, 캐싱 전략
- **동시 접속 처리**: 로드 밸런싱, 수평 확장
- **데이터 일관성**: 트랜잭션 관리, 백업 전략

### 비즈니스 위험
- **데이터 정확성**: 데이터 검증 로직, 정기 업데이트
- **사용자 증가**: 서버 자원 모니터링, 자동 스케일링
- **보안 이슈**: 정기 보안 점검, 취약점 스캔

## 성공 기준

### 기능적 성공 기준
- ✅ 모든 핵심 기능 구현 완료
- ✅ API 문서화 완료
- ✅ 결제 시스템 연동 완료
- ✅ 사용자 인증 시스템 완료

### 비기능적 성공 기준
- ✅ 응답 시간 2초 이내 달성
- ✅ 99% 이상 서비스 가용성
- ✅ 보안 요구사항 충족
- ✅ 모바일 반응형 지원

---

**문서 버전**: 1.0  
**최종 수정일**: 2025년 9월 10일  
**작성자**: Team3 개발팀